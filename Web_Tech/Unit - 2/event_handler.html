<html>
    <head>
        <script>
            function init()
            {
                document.querySelector("#d1").addEventListener("click", process, true)
                document.querySelector("#d1").addEventListener("click", process, false)
                document.querySelector("#d2").addEventListener("click", process, true)
                document.querySelector("#d2").addEventListener("click", process, false)
                document.querySelector("#p1").addEventListener("click", process, true)
                document.querySelector("#p1").addEventListener("click", process, false)
            }

            function process(event)
            {
                document.querySelector("#p2").innerHTML += event.target.id + " " + this.id + " " + event.eventPhase+"<br/>";
                if(this.id == "d2" && event.eventPhase ==1){
                    event.stopPropogation();
                }
            }
        </script>
    </head>

    <body onload="init()">
        <div id="d1">
            <div id="d2">
                <p id="p1">Click Here</p>
            </div>
        </div>
        <p id="p2"></p>
    </body>
</html>